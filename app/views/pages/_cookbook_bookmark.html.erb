<% if @bookmarks.empty? %>

  <div class="mt-3 text-center">
    <h1>No bookmarks found...</h1>
  </div>

<% else %>

  <% @bookmarks.each do |bookmark| %>
    <div class="mt-3">

      <%# bouton bookmark %>
      <div class="recipe-card-relative" data-controller="bookmarks">
            <%= link_to destroy_from_cookbook_path(id: bookmark.id), data: { turbo_method: :delete } do %>
            <div class="bookmark-button bookmark-active"></div>
            <% end %>
      </div>

      <%= link_to recipe_path(bookmark.recipe), class: "recipe-card-link" do %>
        <div class="mb-3">

            <%# image %>
            <div>
              <%= cl_image_tag bookmark.recipe.photo.key, class: "recipe-show-img rounded-10-top shadow-sm" %>
            </div>
            <%# informations %>
            <div class="rounded-10-bottom shadow-sm bg-white p-3">
              <%# nom de la recette %>
              <h3><%= bookmark.recipe.name %></h1>

              <%# pays et XP %>
              <div class="d-flex justify-content-between">
                <%# drapeau et nom du pays %>
                <h5><span class="fi <%= bookmark.recipe.country.flag %>"></span> <%= bookmark.recipe.country.name.capitalize %></h5>

                <%# xp et checkmark si recette deja réalisée %>
                <% if UserRecipe.where(recipe_id: bookmark.recipe.id, user_id: current_user.id).exists? %>
                  <div class="d-flex">
                    <h5 style="color: rgba(0,0,0,0.4)"><s><%= bookmark.recipe.xp %>XP</s></h5>
                    <div class="check-circle">✓</div>
                  </div>
                <% else %>
                  <h5><%= bookmark.recipe.xp %>XP</h5>
                <% end %>
              </div>

              <%# difficulté %>
              <div class="d-flex">
                <% difficulty = bookmark.recipe.difficulty %>
                <% if difficulty == "hard" %>
                  <%= image_tag("hard.png", size: "24") %>
                <% elsif difficulty == "medium" %>
                  <%= image_tag("mid.png", size: "24") %>
                <% else %>
                  <%= image_tag("ezz.png", size: "24") %>
                <% end %>
                <h5 class="ms-2"><%= bookmark.recipe.difficulty.capitalize %></h5>
              </div>

              <%# preptime %>
              <h5><i class="fa-regular fa-clock"></i> <%= bookmark.recipe.min_to_h %></h5>

              <%# keywords %>
              <% bookmark.recipe.keyword_list.each do |keyword| %>
                <h5 class="keyword <%= "kw-" + keyword %>"><%= keyword.capitalize %></h5>
              <% end %>
            </div>
          </div>
      <% end %>
    </div>
  <% end %>
<% end %>
